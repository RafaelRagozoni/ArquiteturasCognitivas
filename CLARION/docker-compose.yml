services:
  clarion:
    container_name: clarion
    image: clarion
    build:
      context: .
      dockerfile: ./Dockerfile
    privileged: true
    shm_size: "8gb"
    environment:
      - FrameworkPathOverride=/lib/mono/4.8-api
    network_mode: host
    ipc: host
    ulimits:
      stack: 67108864
      memlock: -1
    volumes:
      - ./app/:/app

    command: sh -c  "msbuild /app/ && mono /app/folder1/bin/Debug/net481/folder1.exe"
